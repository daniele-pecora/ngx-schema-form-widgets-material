<!--
Element 'ngx-captcha'
  - title = label
  - description = some descriptive text below the RE-CAPTCHA

Element 'ngx-recaptcha' in 'widget'
  - siteKey
  - type
  - theme
  - size
  - language

  - script_url   : The Google reCaptcha javascript or any other javascript that renders a CAPTCHA.   
                   Default is `https://(www.recaptcha.net|www.google.com)/recaptcha/api.js?hl=(language)&render=explicit&onload=(callback)`.  
                   If another javascript is provided that Google's ReCAPTCHA then make sure it is fully compliant.  
                   For an example custom javascript see official page : https://www.npmjs.com/package/ngx-recaptcha-easy   
  - loadingMsg    : A message that will be showed when the captcha script is loading. Default: 'Loading CAPTCHA ...'  
  - loadingError  : A message that will be showed when the captcha script couldn't be loaded Default: 'Error loading CAPTCHA'  
-->
<div class="ui-g-12">
  <div class="mat-checkbox">

    <label *ngIf="schema.widget.size!=='invisible'" [attr.for]="id">
      {{ schema.hasOwnProperty('title') ? schema.title : formProperty.path }}
      <ngx-ui-widget-required-mark [formProperty]="formProperty"></ngx-ui-widget-required-mark>
    </label>
    <ngx-recaptcha
      id="{{captchaNameId}}"
      (captchaResponse)="showResponse($event)"
      [language]="schema.widget.language||null"
      [size]="schema.widget.size||null"
      [theme]="schema.widget.theme||null"
      [type]="schema.widget.type||null"
      [site_key]="schema.widget.siteKey"
      (loaded)="onLoaded($event)"
      (captchaExpired)="onExpire($event)"
      (error)="onError($event)"
      global="false"
    ></ngx-recaptcha>
    <h4 *ngIf="!captchaloaded" i18n>{{schema.widget.loadingMsg||'Loading CAPTCHA ...'}}</h4>
    <mat-hint *ngIf="schema.description && schema.widget.size!=='invisible'">{{schema.description}}</mat-hint>
    <mat-error *ngIf="control?.errors">
      <div class="ui-message ui-messages-error" *ngIf="captchaloadingerror" i18n>{{schema.widget.loadingError||'Error loading CAPTCHA!'}}</div>
      <ngx-ui-field-validation-messages [formComponent]="this"></ngx-ui-field-validation-messages>
    </mat-error>
  </div>
</div>
